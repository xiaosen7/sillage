import{r as l,R as i,j as y}from"./index-9a1ace1a.js";const K=e=>typeof e=="function",V=!1,J=V;function D(e,t){if(e===t)return!0;for(let r=0;r<e.length;r++)if(!Object.is(e[r],t[r]))return!1;return!0}function W(e){const t=l.useRef(e);return t.current=e,t}const Q=e=>{J&&(K(e)||console.error(`useUnmount expected parameter is a function, got ${typeof e}`));const t=W(e);l.useEffect(()=>()=>{t.current()},[])},G=Q,Z=!!(typeof window<"u"&&window.document&&window.document.createElement),ee=Z;function R(e,t){if(!ee)return;if(!e)return t;let r;return K(e)?r=e():"current"in e?r=e.current:r=e,r}const te=e=>e.every(t=>{const r=R(t);if(!r)return!1;if(r.getRootNode()instanceof ShadowRoot)return!0}),re=e=>e?e.getRootNode():document,ne=e=>{if(!e||!document.getRootNode)return document;const t=Array.isArray(e)?e:[e];return te(t)?re(R(t[0])):document},oe=ne,ae=e=>(r,n,o)=>{const a=l.useRef(!1),u=l.useRef([]),c=l.useRef([]),f=l.useRef();e(()=>{var s;const m=(Array.isArray(o)?o:[o]).map(E=>R(E));if(!a.current){a.current=!0,u.current=m,c.current=n,f.current=r();return}(m.length!==u.current.length||!D(m,u.current)||!D(n,c.current))&&((s=f.current)===null||s===void 0||s.call(f),u.current=m,c.current=n,f.current=r())}),G(()=>{var s;(s=f.current)===null||s===void 0||s.call(f),a.current=!1})},ce=ae,ue=ce(l.useEffect),se=ue;function le(e,t,r="click"){const n=W(e);se(()=>{const o=c=>{(Array.isArray(t)?t:[t]).some(s=>{const p=R(s);return!p||p.contains(c.target)})||n.current(c)},a=oe(t),u=Array.isArray(r)?r:[r];return u.forEach(c=>a.addEventListener(c,o)),()=>{u.forEach(c=>a.removeEventListener(c,o))}},Array.isArray(r)?r:[r],t)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function B(e,t){if(e==null)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(o[r]=e[r]);return o}function O(e){var t=l.useRef(e),r=l.useRef(function(n){t.current&&t.current(n)});return t.current=e,r.current}var _=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},w=function(e){return"touches"in e},j=function(e){return e&&e.ownerDocument.defaultView||self},H=function(e,t,r){var n=e.getBoundingClientRect(),o=w(t)?function(a,u){for(var c=0;c<a.length;c++)if(a[c].identifier===u)return a[c];return a[0]}(t.touches,r):t;return{left:_((o.pageX-(n.left+j(e).pageXOffset))/n.width),top:_((o.pageY-(n.top+j(e).pageYOffset))/n.height)}},$=function(e){!w(e)&&e.preventDefault()},L=i.memo(function(e){var t=e.onMove,r=e.onKey,n=B(e,["onMove","onKey"]),o=l.useRef(null),a=O(t),u=O(r),c=l.useRef(null),f=l.useRef(!1),s=l.useMemo(function(){var X=function(v){$(v),(w(v)?v.touches.length>0:v.buttons>0)&&o.current?a(H(o.current,v,c.current)):x(!1)},Y=function(){return x(!1)};function x(v){var h=f.current,g=j(o.current),b=v?g.addEventListener:g.removeEventListener;b(h?"touchmove":"mousemove",X),b(h?"touchend":"mouseup",Y)}return[function(v){var h=v.nativeEvent,g=o.current;if(g&&($(h),!function(F,P){return P&&!w(F)}(h,f.current)&&g)){if(w(h)){f.current=!0;var b=h.changedTouches||[];b.length&&(c.current=b[0].identifier)}g.focus(),a(H(g,h,c.current)),x(!0)}},function(v){var h=v.which||v.keyCode;h<37||h>40||(v.preventDefault(),u({left:h===39?.05:h===37?-.05:0,top:h===40?.05:h===38?-.05:0}))},x]},[u,a]),p=s[0],m=s[1],E=s[2];return l.useEffect(function(){return E},[E]),i.createElement("div",C({},n,{onTouchStart:p,onMouseDown:p,className:"react-colorful__interactive",ref:o,onKeyDown:m,tabIndex:0,role:"slider"}))}),M=function(e){return e.filter(Boolean).join(" ")},T=function(e){var t=e.color,r=e.left,n=e.top,o=n===void 0?.5:n,a=M(["react-colorful__pointer",e.className]);return i.createElement("div",{className:a,style:{top:100*o+"%",left:100*r+"%"}},i.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},d=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},ie=function(e){return ve(I(e))},I=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?d(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?d(parseInt(e.substring(6,8),16)/255,2):1}},fe=function(e){return he(de(e))},q=function(e){var t=e.s,r=e.v,n=e.a,o=(200-t)*r/100;return{h:d(e.h),s:d(o>0&&o<200?t*r/100/(o<=100?o:200-o)*100:0),l:d(o/2),a:d(n,2)}},S=function(e){var t=q(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},N=function(e){var t=q(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},de=function(e){var t=e.h,r=e.s,n=e.v,o=e.a;t=t/360*6,r/=100,n/=100;var a=Math.floor(t),u=n*(1-r),c=n*(1-(t-a)*r),f=n*(1-(1-t+a)*r),s=a%6;return{r:d(255*[n,c,u,u,f,n][s]),g:d(255*[f,n,n,c,u,u][s]),b:d(255*[u,u,f,n,n,c][s]),a:d(o,2)}},k=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},he=function(e){var t=e.r,r=e.g,n=e.b,o=e.a,a=o<1?k(d(255*o)):"";return"#"+k(t)+k(r)+k(n)+a},ve=function(e){var t=e.r,r=e.g,n=e.b,o=e.a,a=Math.max(t,r,n),u=a-Math.min(t,r,n),c=u?a===t?(r-n)/u:a===r?2+(n-t)/u:4+(t-r)/u:0;return{h:d(60*(c<0?c+6:c)),s:d(a?u/a*100:0),v:d(a/255*100),a:o}},pe=i.memo(function(e){var t=e.hue,r=e.onChange,n=M(["react-colorful__hue",e.className]);return i.createElement("div",{className:n},i.createElement(L,{onMove:function(o){r({h:360*o.left})},onKey:function(o){r({h:_(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":d(t),"aria-valuemax":"360","aria-valuemin":"0"},i.createElement(T,{className:"react-colorful__hue-pointer",left:t/360,color:S({h:t,s:100,v:100,a:1})})))}),me=i.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:S({h:t.h,s:100,v:100,a:1})};return i.createElement("div",{className:"react-colorful__saturation",style:n},i.createElement(L,{onMove:function(o){r({s:100*o.left,v:100-100*o.top})},onKey:function(o){r({s:_(t.s+100*o.left,0,100),v:_(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+d(t.s)+"%, Brightness "+d(t.v)+"%"},i.createElement(T,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:S(t)})))}),U=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},ge=function(e,t){return e.toLowerCase()===t.toLowerCase()||U(I(e),I(t))};function _e(e,t,r){var n=O(r),o=l.useState(function(){return e.toHsva(t)}),a=o[0],u=o[1],c=l.useRef({color:t,hsva:a});l.useEffect(function(){if(!e.equal(t,c.current.color)){var s=e.toHsva(t);c.current={hsva:s,color:t},u(s)}},[t,e]),l.useEffect(function(){var s;U(a,c.current.hsva)||e.equal(s=e.fromHsva(a),c.current.color)||(c.current={hsva:a,color:s},n(s))},[a,e,n]);var f=l.useCallback(function(s){u(function(p){return Object.assign({},p,s)})},[]);return[a,f]}var be=typeof window<"u"?l.useLayoutEffect:l.useEffect,we=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},z=new Map,Ee=function(e){be(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!z.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,z.set(t,r);var n=we();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},xe=function(e){var t=e.className,r=e.hsva,n=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+N(Object.assign({},r,{a:0}))+", "+N(Object.assign({},r,{a:1}))+")"},a=M(["react-colorful__alpha",t]),u=d(100*r.a);return i.createElement("div",{className:a},i.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),i.createElement(L,{onMove:function(c){n({a:c.left})},onKey:function(c){n({a:_(r.a+c.left)})},"aria-label":"Alpha","aria-valuetext":u+"%","aria-valuenow":u,"aria-valuemin":"0","aria-valuemax":"100"},i.createElement(T,{className:"react-colorful__alpha-pointer",left:r.a,color:N(r)})))},ye=function(e){var t=e.className,r=e.colorModel,n=e.color,o=n===void 0?r.defaultColor:n,a=e.onChange,u=B(e,["className","colorModel","color","onChange"]),c=l.useRef(null);Ee(c);var f=_e(r,o,a),s=f[0],p=f[1],m=M(["react-colorful",t]);return i.createElement("div",C({},u,{ref:c,className:m}),i.createElement(me,{hsva:s,onChange:p}),i.createElement(pe,{hue:s.h,onChange:p}),i.createElement(xe,{hsva:s,onChange:p,className:"react-colorful__last-control"}))},ke={defaultColor:"0001",toHsva:ie,fromHsva:fe,equal:ge},Re=function(e){return i.createElement(ye,C({},e,{colorModel:ke}))};const Ce="_picker_1x7kl_1",Me="_swatch_1x7kl_5",Ne="_popover_1x7kl_14",A={picker:Ce,swatch:Me,popover:Ne};function Oe({value:e,onChange:t}){const r=l.useRef(null),[n,o]=l.useState(!1);return le(()=>o(!1),r),y.jsxs("div",{className:A.picker,children:[y.jsx("div",{className:A.swatch,style:{backgroundColor:e},onClick:a=>{a.stopPropagation(),o(!0)}}),n&&y.jsx("div",{className:A.popover,ref:r,children:y.jsx(Re,{color:e,onChange:t})})]})}export{Oe as default};
